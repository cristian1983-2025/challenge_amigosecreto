<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amigo Secreto</title>
    // Archivo CSS es el style2.css, contenido en la misma ruta del archivo HTML
    <link rel="stylesheet" href="style2.css"> 
</head>
<body>
    <div class="main-content">
        // Sección Banner (lo que va arriba)
        <div class="header-banner">
            <h1 class="main-title">Amigo Secreto</h1>
            <img src="amigo-secreto.png" alt="Imagen sorteo">
        </div>

        // Sección de entrada
        <div class="input-section">
            <h2 class="section-title">Digite el nombre de sus amigos</h2>

            // Paso a Paso para ingresar los nombres al listado
            <div class="input-wrapper">
                <input 
                    type="text" 
                    id="amigo" 
                    class="input-name" 
                    placeholder="Digite un nombre"
                >
                <button 
                    type="button" 
                    class="button-add" 
                    onclick="agregarAmigo()"
                >Adicionar</button>
            </div>

            // Lista de Amigos
            <ul id="listaAmigos"></ul>

            // Botón para sortear amigo
            <button class="button-draw" onclick="sortearAmigo()">
                <img src="play_circle_outline.png" alt="Icono sortear"> // El icono debe estar en la ruta correcta, sino no lo encuentra
                Sortear Amigo
            </button>

            // Resultado del juego
            <div id="resultado" class="result-list"></div>
        </div>
    </div>

    // Lenguaje Javascript
    <script>
        // Array o listado para almacenar los nombres de los amigos junto con una variable mutable
        let amigos = [];

        // Función para agregar un amigo a la lista en la cual se utiliza una variable en la cual el valor es constante (const)
        function agregarAmigo() {
            const inputAmigo = document.getElementById('amigo');
            const nombreAmigo = inputAmigo.value.trim();

            // Validar que el campo no esté vacío con la condición if e === que es un operador de igualdad estricta que devuelve "true" si ambos
            // operandos son del mismo tipo y tienen el mismo valor.
            if (nombreAmigo === "") {
                alert("Por favor, ingresa un nombre válido.");
                return;
            }

            // Se agrega el nombre al array con el push el cual manda al ultimo lugar el elemento a la lista
            amigos.push(nombreAmigo);

            // Limpiar el campo de entrada, el input se utiliza para lmpiar un formulario después de una acción, como enviar datos o agregar
            // un elemento a una lista
            inputAmigo.value = "";

            // Actualizar la lista de nombres en la página
            actualizarListaAmigos();
        }

        // Función para actualizar la lista de amigos en la página
        function actualizarListaAmigos() {
            const listaAmigos = document.getElementById('listaAmigos');
        // Limpiar la lista antes de actualizar
            listaAmigos.innerHTML = ""; 

            // Recorre el array de amigos y agrega cada uno a la lista
            amigos.forEach((amigo) => {
                const li = document.createElement('li');
                li.textContent = amigo;
                listaAmigos.appendChild(li);
            });
        }

        // Esta es la función para sortear un amigo secreto de la lista
        function sortearAmigo() {
            // Verifica si hay amigos en la lista
            if (amigos.length === 0) {
                alert("No hay amigos en la lista. Por favor, agrega algunos nombres.");
                return;
            }

            // Selecciona un nombre aleatorio del array
            const indiceAleatorio = Math.floor(Math.random() * amigos.length);
            const amigoSecreto = amigos[indiceAleatorio];

            // Muestra el resultado en la página
            const resultado = document.getElementById('resultado');
            resultado.innerHTML = `El amigo secreto es: <strong>${amigoSecreto}</strong>`;
        }
    </script>
</body>
</html>